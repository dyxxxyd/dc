#### 读写分离注意点
为保证数据库数据的一致性，所有对于数据库的更新操作都是针对主数据库的，但是读操作可以针对从数据库进行。大多数站点的数据库读比写操作更加密集，而且查询条件相对复杂，数据库的大部分性能消耗在查询操作上。
主从复制数据是异步完成的，这就导致主从数据库中的数据有一定的延迟，在读写分离的设计中必须要考虑这点。以博客为例，用户在登录后发表一篇文章，他需要马上看到自己的文章，但是对于其他用户来说可以允许延迟一段时间(1min/5min..)，不会造成什么问题。这时对于当前用户就需要读主数据库，对于其他访问量更大的外部用户可以读从数据库。
- 适当放弃一致性：在一些实时性要求不高的场合，我们可以适当放弃一致性要求。这样可以充分利用多种手段来提高系统吞吐量，例如：页面缓存、分布式数据缓存、数据库读写分离、查询数据搜索索引化。
- 可以通过程序控制：将强一致性要求的功能(存钱/取钱)的读写操作均指向主数据库，或者将写操作采用“双写”的方式实现；而弱一致性(最终一致性)要求的功能(更新微博（写）、金融账户查询（读）)而实现读写分离。